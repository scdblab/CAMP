<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_05) on Tue May 06 16:14:09 PDT 2014 -->
<title>HibernateBgClient</title>
<meta name="date" content="2014-05-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HibernateBgClient";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HibernateBgClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../hibernate/HibernateBgClientWithHQL.html" title="class in hibernate"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?hibernate/HibernateBgClient.html" target="_top">Frames</a></li>
<li><a href="HibernateBgClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">hibernate</div>
<h2 title="Class HibernateBgClient" class="title">Class HibernateBgClient</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.usc.bg.base.DB</li>
<li>
<ul class="inheritance">
<li>hibernate.HibernateBgClient</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../hibernate/HibernateConstants.html" title="interface in hibernate">HibernateConstants</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../hibernate/HibernateBgClientWithHQL.html" title="class in hibernate">HibernateBgClientWithHQL</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">HibernateBgClient</span>
extends edu.usc.bg.base.DB
implements <a href="../hibernate/HibernateConstants.html" title="interface in hibernate">HibernateConstants</a></pre>
<div class="block">This is the OO-Hibernate BG Client. It does NOT use HQL.
 It uses pure object oriented interface to implement the BG actions.
 Each action follows a similar format, they all begin with opening 
 a new session using the session factory object and beginning a new transaction
 After the processing of the action, they commit the transaction and close the 
  session.
  This client runs slower than HQL-Hibernate (provided in this package) as it 
  issues more queries per BG action. The detail analysis is available in the
  paper published on the BG website.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Ankit Mutha (mutha.ankit@gmail.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.hibernate.SessionFactory</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#factory">factory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#FSimagePath">FSimagePath</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.hibernate.HibernateConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;hibernate.<a href="../hibernate/HibernateConstants.html" title="interface in hibernate">HibernateConstants</a></h3>
<code><a href="../hibernate/HibernateConstants.html#CONNECTION_PASSWD">CONNECTION_PASSWD</a>, <a href="../hibernate/HibernateConstants.html#CONNECTION_URL">CONNECTION_URL</a>, <a href="../hibernate/HibernateConstants.html#CONNECTION_URL_HCP">CONNECTION_URL_HCP</a>, <a href="../hibernate/HibernateConstants.html#CONNECTION_USER">CONNECTION_USER</a>, <a href="../hibernate/HibernateConstants.html#DEFAULT_DIALECT">DEFAULT_DIALECT</a>, <a href="../hibernate/HibernateConstants.html#DEFAULT_DRIVER">DEFAULT_DRIVER</a>, <a href="../hibernate/HibernateConstants.html#DEFAULT_PASSWD">DEFAULT_PASSWD</a>, <a href="../hibernate/HibernateConstants.html#DEFAULT_URL">DEFAULT_URL</a>, <a href="../hibernate/HibernateConstants.html#DEFAULT_USER">DEFAULT_USER</a>, <a href="../hibernate/HibernateConstants.html#DIALECT_HCP">DIALECT_HCP</a>, <a href="../hibernate/HibernateConstants.html#DRIVER_CLASS">DRIVER_CLASS</a>, <a href="../hibernate/HibernateConstants.html#DRIVER_HCP">DRIVER_HCP</a>, <a href="../hibernate/HibernateConstants.html#EH_CACHE_MODE_PARAM">EH_CACHE_MODE_PARAM</a>, <a href="../hibernate/HibernateConstants.html#EH_CACHE_MODE_PARAM_DEFAULT">EH_CACHE_MODE_PARAM_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#ENABLE_COMPRESSION_PROPERTY">ENABLE_COMPRESSION_PROPERTY</a>, <a href="../hibernate/HibernateConstants.html#ENABLE_COMPRESSION_PROPERTY_DEFAULT">ENABLE_COMPRESSION_PROPERTY_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#ERROR">ERROR</a>, <a href="../hibernate/HibernateConstants.html#FS_PATH">FS_PATH</a>, <a href="../hibernate/HibernateConstants.html#MANAGE_CACHE_PROPERTY">MANAGE_CACHE_PROPERTY</a>, <a href="../hibernate/HibernateConstants.html#MANAGE_CACHE_PROPERTY_DEFAULT">MANAGE_CACHE_PROPERTY_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#MAX_CACHE_MEMORY_DEFAULT">MAX_CACHE_MEMORY_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#MAX_CACHE_MEMORY_PROPERTY">MAX_CACHE_MEMORY_PROPERTY</a>, <a href="../hibernate/HibernateConstants.html#MEMCACHED_SERVER_HOST">MEMCACHED_SERVER_HOST</a>, <a href="../hibernate/HibernateConstants.html#MEMCACHED_SERVER_HOST_DEFAULT">MEMCACHED_SERVER_HOST_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#MEMCACHED_SERVER_PORT">MEMCACHED_SERVER_PORT</a>, <a href="../hibernate/HibernateConstants.html#MEMCACHED_SERVER_PORT_DEFAULT">MEMCACHED_SERVER_PORT_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#PASSWORD_HCP">PASSWORD_HCP</a>, <a href="../hibernate/HibernateConstants.html#REFRESH_VIEWPROFILE_MV_DEFAULT">REFRESH_VIEWPROFILE_MV_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#REFRESH_VIEWPROFILE_MV_PROP">REFRESH_VIEWPROFILE_MV_PROP</a>, <a href="../hibernate/HibernateConstants.html#SQL_DIALECT">SQL_DIALECT</a>, <a href="../hibernate/HibernateConstants.html#SUCCESS">SUCCESS</a>, <a href="../hibernate/HibernateConstants.html#TTL_VALUE">TTL_VALUE</a>, <a href="../hibernate/HibernateConstants.html#TTL_VALUE_DEFAULT">TTL_VALUE_DEFAULT</a>, <a href="../hibernate/HibernateConstants.html#USER_HCP">USER_HCP</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#HibernateBgClient--">HibernateBgClient</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#acceptFriend-int-int-">acceptFriend</a></span>(int&nbsp;inviterID,
            int&nbsp;inviteeID)</code>
<div class="block">This simulates the action of a member accepting the friendship invitation
 of another member.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#cleanup-boolean-">cleanup</a></span>(boolean&nbsp;warmup)</code>
<div class="block">Cleanup any state for this DB.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#CreateFriendship-int-int-">CreateFriendship</a></span>(int&nbsp;friendid1,
                int&nbsp;friendid2)</code>
<div class="block">This method is used in the load phase to create friendship between two
 members.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#createSchema-java.util.Properties-">createSchema</a></span>(java.util.Properties&nbsp;props)</code>
<div class="block">This method creates the schema using schema export.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#delCommentOnResource-int-int-int-">delCommentOnResource</a></span>(int&nbsp;resourceCreatorID,
                    int&nbsp;resourceID,
                    int&nbsp;manipulationID)</code>
<div class="block">This simulates the action of one member deleting a posted comment on a resource.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#getCreatedResources-int-java.util.Vector-">getCreatedResources</a></span>(int&nbsp;creatorID,
                   java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</code>
<div class="block">This method retrieves the resources created by a given member.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#GetImageFromFS-java.lang.String-boolean-">GetImageFromFS</a></span>(java.lang.String&nbsp;userid,
              boolean&nbsp;profileimg)</code>
<div class="block">This method retrieves the image stored for the given userid.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#getInitialStats--">getInitialStats</a></span>()</code>
<div class="block">This function is called in the load phase which is executed using the -load or -loadindex argument
 
 returns DB's initial statistics.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#init--">init</a></span>()</code>
<div class="block">Setup Hibernate configuration from the properties passed as command line argument.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#insertEntity-java.lang.String-java.lang.String-java.util.HashMap-boolean-">insertEntity</a></span>(java.lang.String&nbsp;entitySet,
            java.lang.String&nbsp;entityPK,
            java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values,
            boolean&nbsp;insertImage)</code>
<div class="block">This BG action is used in the BG load phase to insert either a Resource
 or a User into the database, this method calls the corresponding methods.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#insertResource-java.lang.String-java.util.HashMap-">insertResource</a></span>(java.lang.String&nbsp;entityPK,
              java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values)</code>
<div class="block">Saves a new resource into the database with given primary identifier and attributes</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#insertUser-java.lang.String-java.util.HashMap-boolean-">insertUser</a></span>(java.lang.String&nbsp;entityPK,
          java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values,
          boolean&nbsp;insertImage)</code>
<div class="block">Saves a new member into the database with given primary identifier and other attributes</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#inviteFriend-int-int-">inviteFriend</a></span>(int&nbsp;inviterID,
            int&nbsp;inviteeID)</code>
<div class="block">This simulates the action of one member inviting other member to be friends.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#listFriends-int-int-java.util.Set-java.util.Vector-boolean-boolean-">listFriends</a></span>(int&nbsp;requesterID,
           int&nbsp;profileOwnerID,
           java.util.Set&lt;java.lang.String&gt;&nbsp;fields,
           java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result,
           boolean&nbsp;insertImage,
           boolean&nbsp;testMode)</code>
<div class="block">This simulates the action of one member listing all his/her friends.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#postCommentOnResource-int-int-int-java.util.HashMap-">postCommentOnResource</a></span>(int&nbsp;commentCreatorID,
                     int&nbsp;resourceCreatorID,
                     int&nbsp;resourceID,
                     java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values)</code>
<div class="block">This simulates the action of member posting a comment on a given resource.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#printStatsForUser-hibernate.entities.User-">printStatsForUser</a></span>(<a href="../hibernate/entities/User.html" title="class in hibernate.entities">User</a>&nbsp;user)</code>
<div class="block">A utility method to print the user information for debugging</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#queryConfirmedFriendshipIds-int-java.util.Vector-">queryConfirmedFriendshipIds</a></span>(int&nbsp;memberID,
                           java.util.Vector&lt;java.lang.Integer&gt;&nbsp;confirmedIds)</code>
<div class="block">This function is called in the benchmarking phase which is executed with the -t argument.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#queryPendingFriendshipIds-int-java.util.Vector-">queryPendingFriendshipIds</a></span>(int&nbsp;memberID,
                         java.util.Vector&lt;java.lang.Integer&gt;&nbsp;pendingIds)</code>
<div class="block">This function is called in the benchmarking phase which is executed with the -t argument.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#rejectFriend-int-int-">rejectFriend</a></span>(int&nbsp;inviterID,
            int&nbsp;inviteeID)</code>
<div class="block">This simulates the action of a member reject friendship invitation of 
 another member.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#StoreImageInFS-java.lang.String-byte:A-boolean-">StoreImageInFS</a></span>(java.lang.String&nbsp;userid,
              byte[]&nbsp;image,
              boolean&nbsp;profileimg)</code>
<div class="block">This method stores a given image byte array onto the given file system path</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#thawFriendship-int-int-">thawFriendship</a></span>(int&nbsp;friendid1,
              int&nbsp;friendid2)</code>
<div class="block">This simulates the action when a member un-friends another member.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#viewCommentOnResource-int-int-int-java.util.Vector-">viewCommentOnResource</a></span>(int&nbsp;requesterID,
                     int&nbsp;profileOwnerID,
                     int&nbsp;resourceID,
                     java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</code>
<div class="block">This simulates the action of the a member viewing the comments on a given
 resource.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#viewFriendReq-int-java.util.Vector-boolean-boolean-">viewFriendReq</a></span>(int&nbsp;profileOwnerID,
             java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;results,
             boolean&nbsp;insertImage,
             boolean&nbsp;testMode)</code>
<div class="block">This simulates the action of one member viewing his/her own pending friendship
 invitations.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#viewProfile-int-int-java.util.HashMap-boolean-boolean-">viewProfile</a></span>(int&nbsp;requesterID,
           int&nbsp;profileOwnerID,
           java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;result,
           boolean&nbsp;insertImage,
           boolean&nbsp;testMode)</code>
<div class="block">This simulates the action of a member viewing her or someone else's 
 profile.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../hibernate/HibernateBgClient.html#viewTopKResources-int-int-int-java.util.Vector-">viewTopKResources</a></span>(int&nbsp;requesterID,
                 int&nbsp;profileOwnerID,
                 int&nbsp;k,
                 java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</code>
<div class="block">This simulates the action of one member viewing the top resources of another member's
 wall.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.edu.usc.bg.base.DB">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;edu.usc.bg.base.DB</h3>
<code>buildIndexes, dataAvailable, getProperties, reconstructSchema, schemaCreated, setProperties</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FSimagePath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FSimagePath</h4>
<pre>protected&nbsp;java.lang.String FSimagePath</pre>
</li>
</ul>
<a name="factory">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>factory</h4>
<pre>protected static&nbsp;org.hibernate.SessionFactory factory</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HibernateBgClient--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HibernateBgClient</h4>
<pre>public&nbsp;HibernateBgClient()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;boolean&nbsp;init()
             throws edu.usc.bg.base.DBException</pre>
<div class="block">Setup Hibernate configuration from the properties passed as command line argument.
 Create a session factory that will be used in each action to open a session.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>init</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the configurations is successful, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>edu.usc.bg.base.DBException</code></dd>
</dl>
</li>
</ul>
<a name="cleanup-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>public&nbsp;void&nbsp;cleanup(boolean&nbsp;warmup)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code>edu.usc.bg.base.DB</code></span></div>
<div class="block">Cleanup any state for this DB.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>cleanup</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>warmup</code> - This flag identifies if the thread calling it is in the warm up phase.
 In the warm up phase the threads do not issue updates, this phase can be used for warming up caches.
 If the warm up is set to true, the cache would not be restarted at the end of the warmup phase
 and only the warm up thread's connections to the database will be recycled.
 Called once per DB instance; there is one DB instance per client thread.
 This method should be called once the thread needs to end its communication with the data store.
 The code written for this function should close up the connection of the thread with the database
 and clean up the database instance.</dd>
</dl>
</li>
</ul>
<a name="insertUser-java.lang.String-java.util.HashMap-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertUser</h4>
<pre>public&nbsp;int&nbsp;insertUser(java.lang.String&nbsp;entityPK,
                      java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values,
                      boolean&nbsp;insertImage)</pre>
<div class="block">Saves a new member into the database with given primary identifier and other attributes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityPK</code> - primary identifier for the member</dd>
<dd><code>values</code> - attributes of the member</dd>
<dd><code>insertImage</code> - indicates if the image is to be stored</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>1 if the new member is saved successfully, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="insertResource-java.lang.String-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertResource</h4>
<pre>public&nbsp;int&nbsp;insertResource(java.lang.String&nbsp;entityPK,
                          java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values)</pre>
<div class="block">Saves a new resource into the database with given primary identifier and attributes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityPK</code> - primary identifier of the resource</dd>
<dd><code>values</code> - the attributes of the resource</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>1 if the new resource is saved successfully, 0 otherwise</dd>
</dl>
</li>
</ul>
<a name="insertEntity-java.lang.String-java.lang.String-java.util.HashMap-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertEntity</h4>
<pre>public&nbsp;int&nbsp;insertEntity(java.lang.String&nbsp;entitySet,
                        java.lang.String&nbsp;entityPK,
                        java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values,
                        boolean&nbsp;insertImage)</pre>
<div class="block">This BG action is used in the BG load phase to insert either a Resource
 or a User into the database, this method calls the corresponding methods.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>insertEntity</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entitySet</code> - The name of the entity set with the following two possible values:  users and resources.
 BG passes these values in lower case.  The implementation may manipulate the case to tailor it for the purposes of a data store.</dd>
<dd><code>entityPK</code> - The primary key of the entity to insert.</dd>
<dd><code>values</code> - A HashMap of field/value pairs to insert for the entity, these pairs are the other attributes for an entity and their values.
 The profile image is identified with the "pic" key attribute and the thumbnail image is identified with the "tpic" key attribute.</dd>
<dd><code>insertImage</code> - Identifies if images should be inserted for users.
 if set to true the code should populate each entity with an image; the size of the image is specified
 using the imagesize parameter.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written for this function call should insert the entity and its attributes.
 The code is responsible for inserting the PK and the other attributes in the appropriate order.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.insertEntity(java.lang.String, java.lang.String, java.util.HashMap, boolean)</code></dd>
</dl>
</li>
</ul>
<a name="viewProfile-int-int-java.util.HashMap-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewProfile</h4>
<pre>public&nbsp;int&nbsp;viewProfile(int&nbsp;requesterID,
                       int&nbsp;profileOwnerID,
                       java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;result,
                       boolean&nbsp;insertImage,
                       boolean&nbsp;testMode)</pre>
<div class="block">This simulates the action of a member viewing her or someone else's 
 profile.
 The implementation retrieves the target member's entity instance along with
 the friends, friendsOf, pendingFriends and wallResource collections.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>viewProfile</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requesterID</code> - Unique identifier for the requester.</dd>
<dd><code>profileOwnerID</code> - unique profile owner's identifier.</dd>
<dd><code>result</code> - A HashMap with all data  returned. These data are different user information within the profile
 such as friend count, friend request count, etc.</dd>
<dd><code>insertImage</code> - Identifies if the users have images in the database. If set to true the images for the users will be
 retrieved.</dd>
<dd><code>testMode</code> - If set to true images will be retrieved and stored on the file system.
 While running benchmarks this field should be set to false.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 on success a non-zero error code on error.  See this class's description for a discussion of error codes. 
 
 The code written for this function retrieves the user's profile details, friendcount (number of friends for that user)
  and resourcecount (number of resources inserted on that user's wall).
 In addition if the requesterID is equal to the profileOwnerID, the pendingcount (number of pending friend requests)
  needs to be returned as well.
 
 If the insertImage is set to true, the image for the profileOwnerID will be rertrieved.
 The insertImage should be set to true only if the user entity has an image in the database.
 
 The friendcount, resourcecount, pendingcount should be put into the results HashMap
 with the following keys: "friendcount", "resourcecount" and "pendingcount", respectively. 
 Lack of these attributes or not returning the attribute keys
 in lower case causes BG to raise exceptions.
 In addition, all other attributes of the profile need to be added to the result hashmap with the 
 attribute names being the keys and the attribute values being the values in the hashmap.
 
 If images exist for users, they should be converted to bytearrays and added to the result hashmap.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.viewProfile(int, int, java.util.HashMap, boolean, boolean)</code></dd>
</dl>
</li>
</ul>
<a name="listFriends-int-int-java.util.Set-java.util.Vector-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listFriends</h4>
<pre>public&nbsp;int&nbsp;listFriends(int&nbsp;requesterID,
                       int&nbsp;profileOwnerID,
                       java.util.Set&lt;java.lang.String&gt;&nbsp;fields,
                       java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result,
                       boolean&nbsp;insertImage,
                       boolean&nbsp;testMode)</pre>
<div class="block">This simulates the action of one member listing all his/her friends.
 
 This implementation retrieves the members entity instance along with
 it's friends and friendsOf collections. Then it iterates over the 
 friendship collections and retrieves the friend member.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>listFriends</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requesterID</code> - The unique identifier of the user who wants to view profile owners friends.</dd>
<dd><code>profileOwnerID</code> - The id of the profile for which the friends are listed.</dd>
<dd><code>fields</code> - Contains the attribute names required for each friend. 
 This can be set to null to retrieve all the friend information.</dd>
<dd><code>result</code> - A Vector of HashMaps, where each HashMap is a set field/value pairs for one friend.</dd>
<dd><code>insertImage</code> - If set to true the thumbnail images for the friends will be retrieved from the data store.</dd>
<dd><code>testMode</code> - If set to true the thumbnail images of friends will be written to the file system.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should retrieve the list of friends for the profileOwnerID.
 The information retrieved per friend depends on the fields specified in the fields set. if fields is set to null
 all profile information for the friends is retrieved and the result hashmap is populated.
 The friend's unique id should be inserted with the "userid" key into the result hashmap. The lack of this attribute or the lack of 
 the attribute key in lower case causes BG to raise exceptions.
 In addition if the insertImage flag is set to true, the thumbnails for each friend's profile
 should be retrieved and inserted into the result hashmap using the "pic" key.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.listFriends(int, int, java.util.Set, java.util.Vector, boolean, boolean)</code></dd>
</dl>
</li>
</ul>
<a name="viewFriendReq-int-java.util.Vector-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewFriendReq</h4>
<pre>public&nbsp;int&nbsp;viewFriendReq(int&nbsp;profileOwnerID,
                         java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;results,
                         boolean&nbsp;insertImage,
                         boolean&nbsp;testMode)</pre>
<div class="block">This simulates the action of one member viewing his/her own pending friendship
 invitations.
 
  This implementation retrieves the given member entity instance along with
  the pendingFriends collection. It iterates through the collection
  and retrieves the profiles of the pending friend members.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>viewFriendReq</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>profileOwnerID</code> - The profile owner's unique identifier.</dd>
<dd><code>results</code> - A vector of hashmaps where every hashmap belongs to one inviter.</dd>
<dd><code>insertImage</code> - If set to true the images for the friends will be retrieved from the data store.</dd>
<dd><code>testMode</code> - If set to true the thumbnail images of friends will be written to the file system.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should retrieve the list of pending invitations for the profileOwnerID's profile,
 all profile information for the pending friends is retrieved and the result hashmap is populated.
 The unique id of the friend generating the request should be added using the "userid" key to the hasmap. 
 The lack of this attribute or the lack of 
 the attribute key in lower case causes BG to raise exceptions.
 In addition if the insertImage flag is set to true, the thumbnails for each pending friend profile
 should be retrieved and inserted into the result hashmap.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.viewFriendReq(int, java.util.Vector, boolean, boolean)</code></dd>
</dl>
</li>
</ul>
<a name="acceptFriend-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptFriend</h4>
<pre>public&nbsp;int&nbsp;acceptFriend(int&nbsp;inviterID,
                        int&nbsp;inviteeID)</pre>
<div class="block">This simulates the action of a member accepting the friendship invitation
 of another member.
 
 The implementation requires retrieving of the two member's entity instances
 It also requires to retrieve the instance of the invitation instance
 that was extended from the inviter member.
 The invitation instance is deleted and a new friendship instance is created
 with appropriate values and it is persisted in the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>acceptFriend</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inviterID</code> - The unique identifier of the inviter (the user who generates the friend request).</dd>
<dd><code>inviteeID</code> - The unique identifier of the invitee (the person who receives the friend request).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should accept the friendship request 
 and generate a friendship relationship between inviteeID and inviterID.
 The friendship relationship is symmetric, so if A is friends with B, B also should
 be friends with A.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.acceptFriend(int, int)</code></dd>
</dl>
</li>
</ul>
<a name="rejectFriend-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rejectFriend</h4>
<pre>public&nbsp;int&nbsp;rejectFriend(int&nbsp;inviterID,
                        int&nbsp;inviteeID)</pre>
<div class="block">This simulates the action of a member reject friendship invitation of 
 another member.
 This implementation retrieves the inviter and the invitee member entity instances
 It then retrieves the invitation entity instance and deletes it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>rejectFriend</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inviterID</code> - The unique identifier of the inviter (The person who generates the friend request).</dd>
<dd><code>inviteeID</code> - The unique identifier of the invitee (The person who receives the friend request).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should remove the friend request generated by 
 the inviterID without creating any friendship relationship between the inviterID and the inviteeID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.rejectFriend(int, int)</code></dd>
</dl>
</li>
</ul>
<a name="inviteFriend-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inviteFriend</h4>
<pre>public&nbsp;int&nbsp;inviteFriend(int&nbsp;inviterID,
                        int&nbsp;inviteeID)</pre>
<div class="block">This simulates the action of one member inviting other member to be friends.
 
 This implementation requires retrieving the member entity instances of the inviter
 and the invitee. It then creates a new invitation entity instance and persists it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>inviteFriend</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inviterID</code> - The unique identifier of the inviter (the person who generates the friend request).</dd>
<dd><code>inviteeID</code> - The unique identifier of the invitee (the person who receives the friend request).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should generate a friend request invitation which is 
 extended by the inviterID to the inviteeID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.inviteFriend(int, int)</code></dd>
</dl>
</li>
</ul>
<a name="thawFriendship-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thawFriendship</h4>
<pre>public&nbsp;int&nbsp;thawFriendship(int&nbsp;friendid1,
                          int&nbsp;friendid2)</pre>
<div class="block">This simulates the action when a member un-friends another member.
 
 This implementation requires to retrieve the two member's entity instances
 along with the friendship entity instances that involves them. It then
 deletes the friendship entity instances</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>thawFriendship</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>friendid1</code> - The unique identifier of the person who wants to remove a friend.</dd>
<dd><code>friendid2</code> - The unique identifier of the friend to be removed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written in this function terminates the friendship relationship between friendid1 and friendid2.
 The friendship relationship should be removed for both friendid1 and friendid2.
 The friendship/thaw friendship relationship is symmetric so if A is not friends with B, B also will not be friends with A.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.thawFriendship(int, int)</code></dd>
</dl>
</li>
</ul>
<a name="CreateFriendship-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CreateFriendship</h4>
<pre>public&nbsp;int&nbsp;CreateFriendship(int&nbsp;friendid1,
                            int&nbsp;friendid2)</pre>
<div class="block">This method is used in the load phase to create friendship between two
 members.
 
 This implementation retrieves the entity instances of the two members
 and creates a new friendship entity instances and persists it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>CreateFriendship</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>friendid1</code> - The unique identifier of the first member.</dd>
<dd><code>friendid2</code> - The unique identifier of the second member.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written in this function generates a friendship relationship between friendid1 and friendid2
 The friendship relationship is symmetric, so if A is friends with B, B is also friends with A.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.CreateFriendship(int, int)</code></dd>
</dl>
</li>
</ul>
<a name="viewTopKResources-int-int-int-java.util.Vector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewTopKResources</h4>
<pre>public&nbsp;int&nbsp;viewTopKResources(int&nbsp;requesterID,
                             int&nbsp;profileOwnerID,
                             int&nbsp;k,
                             java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</pre>
<div class="block">This simulates the action of one member viewing the top resources of another member's
 wall.
 
 This implementation requires retrieving the member entity instance of the member whose wall is being viewed.
 It then retrieves the wallResources collection of this instance that holds all the resources on the wall of the member.
 It sorts the collection based on the resource id and then iterates over the top k elements.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>viewTopKResources</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requesterID</code> - The unique identifier of the user who wants to view profile owners resources.</dd>
<dd><code>profileOwnerID</code> - The profile owner's unique identifier.</dd>
<dd><code>k</code> - The number of resources requested.</dd>
<dd><code>result</code> - A vector of all the resource entities, every resource entity is a hashmap containing resource attributes.
 This hashmap should have the resource id identified by "rid" and the wall user id identified by "walluserid". The lack of these attributes
 or not having these keys in lower case may cause BG to raise exceptions.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.viewTopKResources(int, int, int, java.util.Vector)</code></dd>
</dl>
</li>
</ul>
<a name="getCreatedResources-int-java.util.Vector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreatedResources</h4>
<pre>public&nbsp;int&nbsp;getCreatedResources(int&nbsp;creatorID,
                               java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</pre>
<div class="block">This method retrieves the resources created by a given member.
 This implementation requires retrieving the given member entity instance
 and the createdResources collection which holds all the resource entity instances created by
 the given member.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getCreatedResources</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>creatorID</code> - The unique identifier of the user who created the resources.</dd>
<dd><code>result</code> - A vector of all the resource entities, every entity is a hashmap containing the attributes of a resource and their values
 without considering the comments on the resource.
 Every resource should have a unique identifier which will be copied into the hashmap using the "rid" key and a unique creator which will be copied into the "creatorid" key. Lack of this key in lower case
 may cause BG to raise exceptions.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.getCreatedResources(int, java.util.Vector)</code></dd>
</dl>
</li>
</ul>
<a name="viewCommentOnResource-int-int-int-java.util.Vector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewCommentOnResource</h4>
<pre>public&nbsp;int&nbsp;viewCommentOnResource(int&nbsp;requesterID,
                                 int&nbsp;profileOwnerID,
                                 int&nbsp;resourceID,
                                 java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&gt;&nbsp;result)</pre>
<div class="block">This simulates the action of the a member viewing the comments on a given
 resource.
 
 This requires retrieving the given resource entity instance and it's manipulation
 collection that holds the Manipulation entity instances that represent the comments 
 on the given resource.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>viewCommentOnResource</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requesterID</code> - The unique identifier of the user who wants to view the comments posted on the profileOwnerID's resource.</dd>
<dd><code>profileOwnerID</code> - The profile owner's unique identifier (owner of the resource).</dd>
<dd><code>resourceID</code> - The resource's unique identifier.</dd>
<dd><code>result</code> - A vector of all the comment entities for a specific resource, each comment and its details are
 specified as a hashmap.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function, gets the resourceid of a resource and returns all the comments posted on that resource
 and their details. This information should be put into the results Vector.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.viewCommentOnResource(int, int, int, java.util.Vector)</code></dd>
</dl>
</li>
</ul>
<a name="postCommentOnResource-int-int-int-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postCommentOnResource</h4>
<pre>public&nbsp;int&nbsp;postCommentOnResource(int&nbsp;commentCreatorID,
                                 int&nbsp;resourceCreatorID,
                                 int&nbsp;resourceID,
                                 java.util.HashMap&lt;java.lang.String,edu.usc.bg.base.ByteIterator&gt;&nbsp;values)</pre>
<div class="block">This simulates the action of member posting a comment on a given resource.
 
 This implementation retrieves the given resource entity instance and creates 
 a new manipulation entity instance and persists it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>postCommentOnResource</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commentCreatorID</code> - The unique identifier of the user who is creating the comment.</dd>
<dd><code>resourceCreatorID</code> - The resource creator's unique identifier (owner of the resource).</dd>
<dd><code>resourceID</code> - The resource's unique identifier.</dd>
<dd><code>values</code> - The values for the comment which contains the unique identifier of the comment identified by "mid".</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written in this function, creates a comment on the resource identified with
 resourceID and created by profileOwnerID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.postCommentOnResource(int, int, int, java.util.HashMap)</code></dd>
</dl>
</li>
</ul>
<a name="delCommentOnResource-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delCommentOnResource</h4>
<pre>public&nbsp;int&nbsp;delCommentOnResource(int&nbsp;resourceCreatorID,
                                int&nbsp;resourceID,
                                int&nbsp;manipulationID)</pre>
<div class="block">This simulates the action of one member deleting a posted comment on a resource.
 
 This implementation retrieves the given resource entity instance and the manipulation entity 
 instance and deletes the manipulation instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>delCommentOnResource</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceCreatorID</code> - The resource creator's unique identifier (owner of the resource).</dd>
<dd><code>resourceID</code> - The resource's unique identifier.</dd>
<dd><code>manipulationID</code> - The unique identifier of the comment to be deleted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written in this function, deletes a comment identified by manipulationID on the resource identified with
 resourceID and created by the resourceCreatorID.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.delCommentOnResource(int, int, int)</code></dd>
</dl>
</li>
</ul>
<a name="getInitialStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialStats</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;getInitialStats()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code>edu.usc.bg.base.DB</code></span></div>
<div class="block">This function is called in the load phase which is executed using the -load or -loadindex argument
 
 returns DB's initial statistics.
 These statistics include number of users, average number of friends per user,
 average number of pending friend requests per user, and number of resources per user.
 The initial statistics are queried and inserted into a hashmap.
 This hashmap should contain the following attributes:
 "usercount", "resourcesperuser", "avgfriendsperuser", "avgpendingperuser" 
 The lack of these attributes or the lack of the keys in lower case causes BG to raise exceptions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getInitialStats</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.getInitialStats()</code></dd>
</dl>
</li>
</ul>
<a name="createSchema-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSchema</h4>
<pre>public&nbsp;void&nbsp;createSchema(java.util.Properties&nbsp;props)</pre>
<div class="block">This method creates the schema using schema export.
 If the database does not exists or the client can not 
 connect to the database, appropriate exception is thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createSchema</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>props</code> - The properties of BG.
 
 BG dictates a fixed conceptual schema. This schema consists of three entity sets:
 users, resources, manipulations
 The attributes for each entity set are as follows;
 1) users (userid, username, pw, fname, lname, gender,
                dob, jdate, ldate, address, email, tel, tpic, pic)
                tpic and pic are available if there are images inserted for users.
 2) resources (rid, creatorid,  walluserid, type, body, doc)
 3) manipulations (mid, creatorid, rid, modifierid, timestamp, type, content)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.createSchema(java.util.Properties)</code></dd>
</dl>
</li>
</ul>
<a name="queryPendingFriendshipIds-int-java.util.Vector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryPendingFriendshipIds</h4>
<pre>public&nbsp;int&nbsp;queryPendingFriendshipIds(int&nbsp;memberID,
                                     java.util.Vector&lt;java.lang.Integer&gt;&nbsp;pendingIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code>edu.usc.bg.base.DB</code></span></div>
<div class="block">This function is called in the benchmarking phase which is executed with the -t argument.
 
 Queries the inviterid's of pending friendship requests for a member specified by memberID.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>queryPendingFriendshipIds</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>memberID</code> - The unique identifier of the user.</dd>
<dd><code>pendingIds</code> - Is a vector of all the member ids that have created a friendship invitation for memberID.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.queryPendingFriendshipIds(int, java.util.Vector)</code></dd>
</dl>
</li>
</ul>
<a name="queryConfirmedFriendshipIds-int-java.util.Vector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryConfirmedFriendshipIds</h4>
<pre>public&nbsp;int&nbsp;queryConfirmedFriendshipIds(int&nbsp;memberID,
                                       java.util.Vector&lt;java.lang.Integer&gt;&nbsp;confirmedIds)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code>edu.usc.bg.base.DB</code></span></div>
<div class="block">This function is called in the benchmarking phase which is executed with the -t argument.
 
 Queries the friendids of confirmed friendships for a member specified by memberID.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>queryConfirmedFriendshipIds</code>&nbsp;in class&nbsp;<code>edu.usc.bg.base.DB</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>memberID</code> - The unique identifier of the user.</dd>
<dd><code>confirmedIds</code> - Is a vector of all the member ids that have a friendship relationship with memberID.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>DB.queryConfirmedFriendshipIds(int, java.util.Vector)</code></dd>
</dl>
</li>
</ul>
<a name="StoreImageInFS-java.lang.String-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StoreImageInFS</h4>
<pre>public&nbsp;boolean&nbsp;StoreImageInFS(java.lang.String&nbsp;userid,
                              byte[]&nbsp;image,
                              boolean&nbsp;profileimg)</pre>
<div class="block">This method stores a given image byte array onto the given file system path</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userid</code> - used to name the saved image</dd>
<dd><code>image</code> - the image byte array</dd>
<dd><code>profileimg</code> - true indicates if the image is a profile image else thumbnail image.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the save operation is completed successfully, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="GetImageFromFS-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetImageFromFS</h4>
<pre>public&nbsp;byte[]&nbsp;GetImageFromFS(java.lang.String&nbsp;userid,
                             boolean&nbsp;profileimg)</pre>
<div class="block">This method retrieves the image stored for the given userid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userid</code> - identifies the name of the image to be retrieved</dd>
<dd><code>profileimg</code> - true indcates if the it is a profile image, else it is a thumbnail image.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the retrieved image byte array</dd>
</dl>
</li>
</ul>
<a name="printStatsForUser-hibernate.entities.User-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>printStatsForUser</h4>
<pre>protected&nbsp;void&nbsp;printStatsForUser(<a href="../hibernate/entities/User.html" title="class in hibernate.entities">User</a>&nbsp;user)</pre>
<div class="block">A utility method to print the user information for debugging</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user entity instance</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HibernateBgClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../hibernate/HibernateBgClientWithHQL.html" title="class in hibernate"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?hibernate/HibernateBgClient.html" target="_top">Frames</a></li>
<li><a href="HibernateBgClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
